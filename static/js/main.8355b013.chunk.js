(this.webpackJsonpto_do_list=this.webpackJsonpto_do_list||[]).push([[0],{30:function(t,e,n){t.exports=n(59)},35:function(t,e,n){},59:function(t,e,n){"use strict";n.r(e);var o=n(0),a=n.n(o),r=n(11),i=n.n(r),s=(n(35),n(1)),c=n(12),l=n(3),d=n(2),u=n(4),p=(n(8),function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={error:!1,title:""},n.onAddItemClick=function(){var t=n.state.title;""===t.trim()?n.setState({error:!0}):(n.props.addItem(t),n.setState({error:!1,title:""}))},n.onChangeInput=function(t){n.setState({title:t.currentTarget.value}),""===t.currentTarget.value?n.setState({error:!0}):n.setState({error:!1})},n.onKeyPress=function(t){"Enter"===t.key&&n.onAddItemClick()},n.render=function(){var t=n.state.error?"error":"";return a.a.createElement("div",{className:"newItemForm"},a.a.createElement("input",{onKeyPress:n.onKeyPress,onChange:n.onChangeInput,type:"text",placeholder:"New item name",className:"".concat(t," decorationInput"),value:n.state.title}),a.a.createElement("button",{onClick:n.onAddItemClick},"Add"))},n}return Object(u.a)(e,t),e}(a.a.Component)),f=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={isHidden:!1},n.onAllFilterClick=function(){n.props.changeFilter("All")},n.onCompletedFilterClick=function(){n.props.changeFilter("Completed")},n.onActiveFilterClick=function(){n.props.changeFilter("Active")},n.onShowFiltersClick=function(){n.setState({isHidden:!1})},n.onHideFiltersClick=function(){n.setState({isHidden:!0})},n.render=function(t){var e="All"===n.props.filterValue?"filter-active":"",o="Completed"===n.props.filterValue?"filter-active":"",r="Active"===n.props.filterValue?"filter-active":"";return a.a.createElement("div",{className:"todoList-footer"},!n.state.isHidden&&a.a.createElement("div",null,a.a.createElement("button",{onClick:n.onAllFilterClick,className:e},"All"),a.a.createElement("button",{onClick:n.onCompletedFilterClick,className:o},"Completed"),a.a.createElement("button",{onClick:n.onActiveFilterClick,className:r},"Active")),!n.state.isHidden&&a.a.createElement("span",{onClick:n.onHideFiltersClick},"hide"),n.state.isHidden&&a.a.createElement("span",{onClick:n.onShowFiltersClick},"show"))},n}return Object(u.a)(e,t),e}(a.a.Component),k=n(13);function h(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function m(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?h(n,!0).forEach((function(e){Object(k.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):h(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var T=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:n.props.task.title},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.setState({editMode:!1});var t=m({},n.props.task,{title:n.state.title});n.props.changeTask(t)},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.onIsDoneChanged=function(t){var e=t.currentTarget.checked?2:0,o=m({},n.props.task,{status:e});n.props.changeTask(o)},n.render=function(){var t,e=2===n.props.task.status?"todoList-task done":"todoList-task";switch(n.props.task.priority){case 0:t="low";case 1:t="middle";case 2:t="hi";case 3:t="urgently";case 4:t="later";default:t="low"}return a.a.createElement("div",{className:e},a.a.createElement("input",{type:"checkbox",checked:2===n.props.task.status,onChange:n.onIsDoneChanged}),n.state.editMode?a.a.createElement("input",{onBlur:n.deactivateEditMode,autoFocus:!0,value:n.state.title,onChange:n.onTitleChanged}):a.a.createElement("span",{onClick:n.activateEditMode},n.props.task.title,", priority: ",t),a.a.createElement("button",{onClick:function(){n.props.deleteTask(n.props.task.id)}},"X"))},n}return Object(u.a)(e,t),e}(a.a.Component),v=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).render=function(){var t=n.props.tasks.map((function(t){return a.a.createElement(T,{todolistId:n.props.todolistId,key:t.id,task:t,deleteTask:n.props.deleteTask,changeTask:n.props.changeTask})}));return a.a.createElement("div",{className:"todoList-tasks"},t)},n}return Object(u.a)(e,t),e}(a.a.Component),O=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={editMode:!1,title:n.props.title},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.props.updateTodolistTitle(n.props.todolistId,n.state.title)},n.activateEditMode=function(){n.setState({editMode:!0})},n.onTitleChanged=function(t){n.setState({title:t.currentTarget.value})},n.deleteTodolist=function(){n.props.deleteTodolist(n.props.todolistId)},n.render=function(){return a.a.createElement("div",null,n.state.editMode?a.a.createElement("input",{onBlur:n.deactivateEditMode,autoFocus:!0,value:n.state.title,onChange:n.onTitleChanged}):a.a.createElement("h3",{onDoubleClick:n.activateEditMode,className:"todoList-header__title"},n.props.title,a.a.createElement("button",{onClick:n.deleteTodolist},"X")))},n}return Object(u.a)(e,t),e}(a.a.Component),b=n(9),g=n(14),E=n(28),y=n.n(E).a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists",withCredentials:!0,headers:{"API-KEY":"0a4552fd-fc88-4874-a12b-39f74cc52685"}}),j=function(){return y.get("")},C=function(t){return y.post("",{title:t})},I=function(t){return y.delete("/".concat(t))},S=function(t,e){return y.put("/".concat(t),{title:e})},w=function(t,e){return y.post("/".concat(e,"/tasks"),{title:t})},A=function(t,e){return y.put("/".concat(t,"/tasks/").concat(e.id),e)},D=function(t,e){return y.delete("/".concat(t,"/tasks/").concat(e))},L=function(t){return y.get("/".concat(t,"/tasks"))};function P(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function _(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?P(n,!0).forEach((function(e){Object(k.a)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):P(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var F="TodoList/reduser/ADD_TODOLIST",M="TodoList/reduser/ADD_TASK",N="TodoList/reduser/CHANGE_TASK",x="TodoList/reduser/DELETE_TODOLIST",H="TodoList/reduser/DELETE_TASK",V="TodoList/reduser/SET_TODOLISTS",K="TodoList/reduser/SET_TASKS",J={nextTaskId:3,todolists:[]},B=function(t){return{type:F,todolist:t}},U=function(t,e){return{type:M,task:t,todolistId:e}},W=function(t,e,n){return{type:N,taskId:t,newTask:e,todolistId:n}},X=function(t){return{type:x,todolistId:t}},G=function(t,e){return{type:H,todolistId:t,taskId:e}},R=function(t){return{type:V,todolists:t}},Y=function(t,e){return{type:K,tasks:t,todolistId:e}},$=function(t,e){return{type:"TodoList/reduser/UPDATE_TODOLIST_TITLE",todolistId:t,todolistTitle:e}},q=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case F:return _({},t,{todolists:[].concat(Object(g.a)(t.todolists),[e.todolist])});case M:return _({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?_({},t,{tasks:[].concat(Object(g.a)(t.tasks),[e.task])}):t}))});case"TodoList/reduser/UPDATE_TODOLIST_TITLE":return _({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?_({},t,{title:e.todolistTitle}):t}))});case N:return _({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?_({},t,{tasks:t.tasks.map((function(t){return t.id!==e.taskId?t:e.newTask}))}):t}))});case x:return _({},t,{todolists:t.todolists.filter((function(t){return t.id!==e.todolistId}))});case H:return _({},t,{todolists:t.todolists.map((function(t){return t.id===e.todolistId?_({},t,{tasks:t.tasks.filter((function(t){return t.id!==e.taskId}))}):t}))});case V:return _({},t,{todolists:e.todolists.map((function(t){return _({},t,{tasks:[]})}))});case K:return _({},t,{todolists:Object(g.a)(t.todolists.map((function(t){return t.id===e.todolistId?_({},t,{tasks:e.tasks}):t})))});default:return t}},z=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={filterValue:"All"},n.saveState=function(){var t=JSON.stringify(n.state);localStorage.setItem("our-state-"+n.props.id,t)},n.__restoreState=function(){var t={tasks:[],filterValue:"All"},e=localStorage.getItem("our-state-"+n.props.id);null!=e&&(t=JSON.parse(e)).tasks.forEach((function(t){t.id>=n.nextTaskId&&(n.nextTaskId=t.id+1)})),n.nextTaskId=t.tasks.length,n.setState(t)},n.onAddTask=function(t){n.props.addTask(n.props.id,t)},n.changeFilter=function(t){n.setState({filterValue:t},(function(){n.saveState()}))},n.changeTask=function(t){n.props.updateTask(n.props.id,t)},n.deleteTask=function(t){n.props.deleteTask(n.props.id,t)},n.render=function(){var t=n.props.tasks,e=void 0===t?[]:t;return a.a.createElement("div",{className:"todoList"},a.a.createElement("div",{className:"todoList-header"},a.a.createElement(O,{updateTodolistTitle:n.props.updateTodolistTitle,deleteTodolist:n.props.deleteTodolist,todolistId:n.props.id,title:n.props.title}),a.a.createElement(p,{addItem:n.onAddTask})),a.a.createElement(v,{todolistId:n.props.id,tasks:function(t,e){return t.filter((function(t){switch(e){case"All":return!0;case"Completed":return t.isDone;case"Active":return!t.isDone}}))}(e,n.state.filterValue),deleteTask:n.deleteTask,changeTask:n.changeTask}),a.a.createElement(f,{changeFilter:n.changeFilter,filterValue:n.state.filterValue}))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.loadTasks(this.props.id)}}]),e}(a.a.Component),Q=Object(b.b)(null,{addTask:function(t,e){return function(n){w(e,t).then((function(e){var o=e.data.data.item;n(U(o,t))}))}},updateTask:function(t,e){return function(n,o){o().todolists.find((function(e){return e.id===t})).tasks.forEach((function(o){o.id===e.id&&A(t,e).then((function(o){0===o.data.resultCode&&n(W(e.id,e,t))}))}))}},deleteTask:function(t,e){return function(n){D(t,e).then((function(o){0===o.data.resultCode&&n(G(t,e))}))}},deleteTodolist:function(t){return function(e,n){n().todolists.find((function(e){return e.id===t}))&&I(t).then((function(n){0===n.data.resultCode&&e(X(t))}))}},updateTodolistTitle:function(t,e){return function(n,o){o().todolists.find((function(e){return e.id===t}))&&S(n($(t,e)))}},loadTasks:function(t){return function(e){L(t).then((function(n){var o=n.data.items;e(Y(o,t))}))}}})(z),Z=function(t){function e(){var t,n;Object(s.a)(this,e);for(var o=arguments.length,r=new Array(o),i=0;i<o;i++)r[i]=arguments[i];return(n=Object(l.a)(this,(t=Object(d.a)(e)).call.apply(t,[this].concat(r)))).state={todolists:[]},n.__restoreState=function(){var t={todolists:[]},e=localStorage.getItem("todolists-state");null!=e&&((t=JSON.parse(e)).todolists.forEach((function(t){t.id>=n.nextTodoListId&&(n.nextTodoListId=t.id+1)})),n.setState(t))},n.saveState=function(){var t=JSON.stringify(n.state);localStorage.setItem("todolists-state",t)},n.render=function(){var t=n.props.todolists.map((function(t){return a.a.createElement(Q,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",null,a.a.createElement(p,{addItem:n.props.addTodolist})),a.a.createElement("div",{className:"App"},t))},n}return Object(u.a)(e,t),Object(c.a)(e,[{key:"componentDidMount",value:function(){this.props.setTodolists()}}]),e}(a.a.Component),tt=Object(b.b)((function(t){return{todolists:t.todolists}}),{addTodolist:function(t){return function(e){C(t).then((function(t){var n=t.data.data.item;e(B(n))}))}},setTodolists:function(){return function(t){j().then((function(e){t(R(e.data))}))}}})(Z);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var et=n(10),nt=n(29),ot=Object(et.c)(q,Object(et.a)(nt.a));window.store=ot;var at=ot;i.a.render(a.a.createElement(b.a,{store:at},a.a.createElement(tt,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))},8:function(t,e,n){}},[[30,1,2]]]);
//# sourceMappingURL=main.8355b013.chunk.js.map